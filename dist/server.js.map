{"version":3,"sources":["../Finance_api/server.js"],"names":["app","use","bodyParser","urlencoded","extended","json","express","secret","resave","saveUninitialized","cookie","maxAge","set","path","join","__dirname","engine","ejs","renderFile","options","useNewUrlParser","useCreateIndex","useUnifiedTopology","uri","mongoose","connect","then","connected","console","log","err","passport","initialize","session","users","index","expenses","port","process","env","PORT","listen","module","exports"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA,IAAMA,GAAG,GAAG,0BAAZ,C,CACA;;AACAA,GAAG,CAACC,GAAJ,CACEC,uBAAWC,UAAX,CAAsB;AACpBC,EAAAA,QAAQ,EAAE;AADU,CAAtB,CADF;AAKAJ,GAAG,CAACC,GAAJ,CAAQC,uBAAWG,IAAX,EAAR,E,CAEA;;AACAL,GAAG,CAACC,GAAJ,CAAQ,+BAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQK,oBAAQD,IAAR,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,mCAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,gCAAQ;AACdM,EAAAA,MAAM,EAAE,QADM;AAEdC,EAAAA,MAAM,EAAE,IAFM;AAGdC,EAAAA,iBAAiB,EAAE,IAHL;AAIdC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAE;AADJ;AAJM,CAAR,CAAR;AASAX,GAAG,CAACY,GAAJ,CAAQ,OAAR,EAAiBC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAf,GAAG,CAACY,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACAZ,GAAG,CAACgB,MAAJ,CAAW,MAAX,EAAmBC,gBAAIC,UAAvB,E,CAEA;;AACAlB,GAAG,CAACC,GAAJ,CAAQK,8BAAeO,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR,E,CAEA;;AACA,IAAMI,OAAO,GAAG;AACdC,EAAAA,eAAe,EAAE,IADH;AAEdC,EAAAA,cAAc,EAAE,IAFF;AAGdC,EAAAA,kBAAkB,EAAE;AAHN,CAAhB;AAKA,IAAMC,GAAG,GACT,mEADA;;AAEAC,qBAASC,OAAT,CAAiBF,GAAjB,EAAsBJ,OAAtB,EACGO,IADH,CACQ,UAAAC,SAAS;AAAA,SAAIC,OAAO,CAACC,GAAR,mCAAJ;AAAA,CADjB,WAES,UAAAC,GAAG;AAAA,SAAIF,OAAO,CAACC,GAAR,iEAAqEC,GAArE,EAAJ;AAAA,CAFZ,E,CAIA;;;AACA9B,GAAG,CAACC,GAAJ,CAAQ8B,qBAASC,UAAT,EAAR;AACAhC,GAAG,CAACC,GAAJ,CAAQ8B,qBAASE,OAAT,EAAR,E,CAEA;;AACAjC,GAAG,CAACC,GAAJ,CAAQiC,iBAAR;AACAlC,GAAG,CAACC,GAAJ,CAAQkC,iBAAR;AACAnC,GAAG,CAACC,GAAJ,CAAQmC,oBAAR;AAEA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAxC,GAAG,CAACyC,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;AACrBT,EAAAA,OAAO,CAACC,GAAR,sCAA0CQ,IAA1C;AACD,CAFD;AAIAK,MAAM,CAACC,OAAP,GAAiB3C,GAAjB","sourcesContent":["import express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport cors from 'cors';\r\nimport cookieParser from 'cookie-parser';\r\nimport mongoose from 'mongoose';\r\nimport passport from './config/passport';\r\nimport users from './routes/users';\r\nimport index from './routes/index';\r\nimport expenses from './routes/expenses';\r\nimport ejs from 'ejs';\r\nimport path from 'path';\r\nimport expressValidator from 'express-validator';\r\nimport session from 'express-session';\r\nimport flash from 'express-flash';\r\n\r\n// require('dotenv').config();\r\nconst app = express();\r\n//BODY PARSE\r\napp.use(\r\n  bodyParser.urlencoded({\r\n    extended: false\r\n  })\r\n);\r\napp.use(bodyParser.json());\r\n\r\n//CORS\r\napp.use(flash());\r\napp.use(cors());\r\napp.use(express.json());\r\napp.use(expressValidator());\r\napp.use(session({\r\n  secret: 'secret',\r\n  resave: true,\r\n  saveUninitialized: true,\r\n  cookie: {\r\n      maxAge: 1209600000\r\n  },\r\n}));\r\n\r\napp.set('views', path.join(__dirname, 'views'));\r\napp.set('view engine', 'html');\r\napp.engine('html', ejs.renderFile);\r\n\r\n//Set the public folder\r\napp.use(express.static(path.join(__dirname, 'public')));\r\n\r\n//CONNECT MONGODB\r\nconst options = {\r\n  useNewUrlParser: true,\r\n  useCreateIndex: true,\r\n  useUnifiedTopology: true\r\n}\r\nconst uri =\r\n\"mongodb://fintrack:fintrack12345@ds153412.mlab.com:53412/fintrack\";\r\nmongoose.connect(uri, options)\r\n  .then(connected => console.log(`Database connection established`))\r\n  .catch(err => console.log(`There was an error connecting to database, the err is ${err}`));\r\n  \r\n// Passport middleware\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\n// Routes\r\napp.use(users);\r\napp.use(index);\r\napp.use(expenses);\r\n\r\nconst port = process.env.PORT || 5000;\r\napp.listen(port, () => {\r\n  console.log(`Server is running on port: ${port}`);\r\n});\r\n\r\nmodule.exports = app;"],"file":"server.js"}